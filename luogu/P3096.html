<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[USACO13DEC] Vacation Planning G</h1>
<h2>题意翻译</h2>
<p>Bovinia航空公司的航线连接了奶牛居住的N个农场(1&lt;=N&lt;=20000).如同其他公司一样，所有农场当中的K个被设定为枢纽。</p>
<p>现在Bovinia航空公司提供M条单项航线(1&lt;=M&lt;=20000)，第i条航线从u_i号农场出发，目的地是第v_i号农场，开销为k_i美刀。(1&lt;=k_i&lt;=10000)</p>
<p>对于每一条航线，u_i和v_i当中至少有一个是枢纽，两个农场间的航线最多只有1条，没有起点终点相同的航线。</p>
<p>Bessie负责管理Bovinia航空公司的售票服务。不幸的是，</p>
<p>当她离开了几个小时去吃一些美味的干草时，奶牛们发来了</p>
<p>Q(1&lt;=Q&lt;=50000)个单程的假期旅行订单，i号订单希望从a_i号农场飞到b_i号农场。</p>
<p>Bessie快要被订票的工作压垮了，请你帮帮她计算一下每个订单能否被满足，如果能满足，</p>
<p>计算满足该订单的最小花费。</p>
<p>为了减少输出量，你应当只输出最多可满足的订单数和最小的总花费。</p>
<p>答案可能超出int范围</p>
<p>感谢@xiwang 提供的翻译</p>
<h2>题目描述</h2>
<p>Air Bovinia operates flights connecting the N farms that the cows live on (1 &lt;= N &lt;= 20,000). As with any airline, K of these farms have been designated as hubs (1 &lt;= K &lt;= 200, K &lt;= N).</p>
<p>Currently, Air Bovinia offers M one-way flights (1 &lt;= M &lt;= 20,000), where flight i travels from farm u_i to farm v_i and costs d_i (1 &lt;= d_i &lt;= 10,000) dollars.  As with any other sensible airline, for each of these flights, at least one of u_i and v_i is a hub.  There is at most one direct flight between two farms in any given direction, and no flight starts and ends at the same farm.</p>
<p>Bessie is in charge of running the ticketing services for Air Bovinia. Unfortunately, while she was away chewing on delicious hay for a few hours, Q one-way travel requests for the cows' holiday vacations were received (1 &lt;= Q &lt;= 50,000), where the ith request is from farm a_i to farm b_i.</p>
<p>As Bessie is overwhelmed with the task of processing these tickets, please help her compute whether each ticket request can be fullfilled, and its minimum cost if it can be done.</p>
<p>To reduce the output size, you should only output the total number of ticket requests that are possible, and the minimum total cost for them. Note that this number might not fit into a 32-bit integer.</p>
<p>是n个点m条有向边，求两两之间的最短路，要求路径上必须经过编号1~k的至少一个点</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>* Line 1: The integers N, M, K, and Q.</p>
<p>* Lines 2..M + 1: Line i+1 contains u_i, v_i, and d_i. (1 &lt;= u_i, v_i &lt;= N, u_i != v_i)</p>
<p>* Lines M + 2..M + K + 1: Each of these lines contains the ID of a single hub (in the range 1..N).</p>
<p>* Lines M + K + 2..M + K + Q + 1: Two numbers per line, indicating a request for a ticket from farm a_i to b_i. (1 &lt;= a_i, b_i &lt;= N, a_i != b_i)</p>
<h4>输出格式</h4>
<p>* Line 1: The number of ticket requests that can be fullfilled.</p>
<p>* Line 2: The minimum total cost of fulling the possible ticket requests</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>3 3 1 2 
1 2 10 
2 3 10 
2 1 5 
2 
1 3 
3 1 </p>
<h4>输出样例 #1</h4>
<p>1 
20 </p>
<h2>说明</h2>
<p>For the first flight, the only feasible route is 1-&gt;2-&gt;3, costing 20. There are no flights leaving farm 3, so the poor cows are stranded there.</p>