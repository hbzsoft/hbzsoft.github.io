<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>【模板】动态树（LCT）</h1>
<h2>题目描述</h2>
<p>给定 $n$ 个点以及每个点的权值，要你处理接下来的 $m$ 个操作。<br />
操作有四种，操作从 $0$ 到 $3$ 编号。点从 $1$ 到 $n$ 编号。</p>
<ul>
<li><code>0 x y</code> 代表询问从 $x$ 到 $y$ 的路径上的点的权值的 $\text{xor}$ 和。保证 $x$ 到 $y$ 是联通的。</li>
<li><code>1 x y</code> 代表连接 $x$ 到 $y$，若 $x$ 到 $y$ 已经联通则无需连接。</li>
<li><code>2 x y</code> 代表删除边 $(x,y)$，不保证边 $(x,y)$ 存在。</li>
<li><code>3 x y</code> 代表将点 $x$ 上的权值变成 $y$。</li>
</ul>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行两个整数，分别为 $n$ 和 $m$，代表点数和操作数。</p>
<p>接下来 $n$ 行，每行一个整数，第 $(i + 1)$ 行的整数 $a_i$ 表示节点 $i$ 的权值。</p>
<p>接下来 $m$ 行，每行三个整数，分别代表操作类型和操作所需的量。</p>
<h4>输出格式</h4>
<p>对于每一个 $0$ 号操作，你须输出一行一个整数，表示 $x$ 到 $y$ 的路径上点权的 $\text{xor}$ 和。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>3 3 
1
2
3
1 1 2
0 1 2 
0 1 1</p>
<h4>输出样例 #1</h4>
<p>3
1</p>
<h4>输入样例 #2</h4>
<p>5 14
114
514
19
19
810
1 1 2
0 1 2
2 1 2
1 1 2
1 2 3
2 1 3
1 1 3
1 4 5
1 2 5
0 3 5
0 3 4
3 5 233333
0 1 5
0 2 5</p>
<h4>输出样例 #2</h4>
<p>624
315
296
232709
232823</p>
<h2>说明</h2>
<h4>数据规模与约定</h4>
<p>对于全部的测试点，保证：
- $1 \leq n \leq 10^5$，$1 \leq m \leq 3 \times 10^5$，$1 \leq a_i \leq 10^9$。
- 对于操作 $0, 1, 2$，保证 $1 \leq x, y \leq n$。
- 对于操作 $3$，保证 $1 \leq x \leq n$，$1 \leq y \leq 10^9$。</p>