<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>城市街道交通费系统</h1>
<h2>题目描述</h2>
<p>城市街道交费系统最近创立了。一辆汽车左转一次需付费 $1$ ，右转一次需付费 $5$ 。只有当前进、左转、右转都无路可走的时候，调头才是允许的，调头每次付费 $10$ 。</p>
<p>给出一张城市地图，要求你求出从起始点到达终止点的花费最少的路径。幸运的是，所有的道路都是正北、正南、正西或正东方向的。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>输入格式如下：</p>
<ol>
<li>第一行有两个整数，地图高度 $h$ 和宽度 $w$。</li>
<li>
<p>其后 $h$ 行，每行 $w$ 个字符，将是以下字符中的一个：</p>
</li>
<li>
<p><code>.</code> 表示障碍区。</p>
</li>
<li><code>#</code> 表示道路。</li>
<li><code>E</code> 表示起始点且汽车面朝东。</li>
<li><code>W</code> 表示起始点且汽车面朝西。</li>
<li><code>N</code> 表示起始点且汽车面朝北。</li>
<li><code>S</code> 表示起始点且汽车面朝南。</li>
<li><code>F</code> 表示终点。</li>
</ol>
<h4>输出格式</h4>
<p>仅包含一个整数，即为最便宜路径的费用。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>8 11
...........
....#####..
....#...#..
....#...#..
.#E######..
....#......
.##F#......
...........</p>
<h4>输出样例 #1</h4>
<p>8</p>
<h4>输入样例 #2</h4>
<p>17 21
.....................
.#######.............
.#.....#.......#.....
.###...#.......#.....
...#...#.......#.....
.###...#.......#.....
.#.....#.......#.....
.############F#####..
.......#..........#..
.......#..........#..
...#...#...#####..#..
...#...#...#.#.#..#..
..#S########.#.#..#..
...#.......#.###..#..
...#.......#......#..
...........########..
.....................</p>
<h4>输出样例 #2</h4>
<p>7</p>
<h2>说明</h2>
<p>样例一解释：</p>
<p>直走，然后左转 $3$ 次，最后右转到终止点 <code>F</code>。如果先直走然后右转 $2$ 次，花费将是 $10$ 。</p>
<hr />
<p>样例二解释：</p>
<p>最便宜的路径花费 $7$ ：立刻左转，直走，在第一个岔路口左转，随后右转。</p>
<hr />
<p>对于 $100\%$ 的数据：$4 \leq h,w \leq 30$。</p>
<p>数据保证地图中只有一个起点，一个终点，他们之间存在着可通达的路径。同时保证地图最外层一圈都是障碍。</p>