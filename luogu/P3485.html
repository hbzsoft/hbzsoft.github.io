<h1>[POI2009] BAJ-The Walk of Bytie-boy</h1>
<h2>题目背景</h2>
<p><a href="/paste/9lmt83m9">English Edition</a></p>
<h2>题目描述</h2>
<p>给出一张 $n$ 个点 $m$ 条边的有向图，每条边上有一个字母，并给出一个整数 $d$ 和一个序列 $s_1, s_2, \dots, s_d$。  </p>
<p>你需要对每一个 $i(1\le i&lt;n)$ 求出一条从 $s_i$ 到 $s_{i+1}$ 的最短路径满足这条路径上的边上的字母连起来后是回文的。  </p>
<p>不保证每个点最多只在 $s$ 中出现一次。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行两个整数 $n, m$。</p>
<p>之后 $m$ 行，每行两个整数 $x_i, y_i$ 与一个字母 $c_i$，表示有一条从 $x_i$ 到 $y_i$ 的边，这条边上的字母是 $c_i$。</p>
<p>之后一行一个整数 $d$。</p>
<p>之后一行 $d$ 个整数， 表示序列 $s$。</p>
<h4>输出格式</h4>
<p>输出共 $d-1$ 行，第 $i$ 行输出一条从 $s_i$ 到 $s_{i+1}$ 的满足条件的路径。  </p>
<p>若不存在这样的路径，则输出 <code>-1</code>，否则输出这条路径上的所有字母。  </p>
<p>如果有多条满足条件的路径，任意输出一条即可。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>6 7
1 2 a
1 3 x
1 4 b
2 6 l
3 5 y
4 5 z
6 5 a
3
1 5 3</p>
<h4>输出样例 #1</h4>
<p>3 ala
-1</p>
<h2>说明</h2>
<p>对于 $100\%$ 的数据，$2\le n\le 400$，$1\le m\le 6\times10^4$，$1\le x_i,y_i\le n$，$2\le d\le100$，$1\le s_i\le n$。</p>
<p>同时保证不会出现重边与自环。</p>