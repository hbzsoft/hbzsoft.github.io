<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[USACO09OPEN] Bovine Embroidery G</h1>
<h2>题目描述</h2>
<p>Bessie has taken up the detailed art of bovine embroidery. Cows embroider a cloth mounted in a circular hoop of integer radius d (1 &lt;= d &lt;= 50,000). They sew N (2 &lt;= N &lt;= 50,000) threads, each in a straight line from one point on the edge of the hoop to another point on the edge of the hoop (no two embroidered points share a location on the hoop's edge).</p>
<p>Being mathematically inclined, Bessie knows a formula of the form ax + by + c = 0 for each straight line piece of thread. Conveniently, a, b, and c are integers (-1,000,000 &lt;= a &lt;= 1,000,000; -1,000,000 &lt;= b &lt;= 1,000,000; -1,000,000 &lt;= c &lt;= 1,000,000). Even more</p>
<p>conveniently, no two threads coincide exactly.</p>
<p>Perhaps less conveniently, Bessie knows that her set of formula coefficients also includes a number of formulae for threads that do not appear to pass inside the hoop's circle. She regrets this greatly.</p>
<p>The origin (0,0) is in the precise middle of the hoop, so all points on the hoop's edge are distance d from the origin. At least one of the coefficients a and b is non-zero for each thread's formula.</p>
<p>Bovine embroidery is more highly regarded when the number of thread intersections is maximized. Help Bessie: count the number of pairs of threads that intersect on the cloth (i.e., within distance d of the origin). Note that if three threads happen to coincide at the same point, that would be three pairs of intersections. Four threads at the same point -&gt; six pairs of intersections, etc.</p>
<p>Bessie学会了刺绣这种精细的工作。牛们在一片半径为d(1 &lt;= d &lt;= 50000)的圆形布上绣花. 它们一共绣了N (2 &lt;= N &lt;= 50000)条直线，每条直线连接布的边缘上的两个点(没有两条线通过边上同一个点)。</p>
<p>作为一只热爱数学的牛，Bessie 知道每条线的公式, ax + by + c = 0. a, b, 和 c 为整数(-1000000 &lt;= a &lt;= 1000000; -1000000 &lt;= b &lt;= 1000000; -1000000 &lt;= c &lt;= 1000000).没有两条线完全重合。</p>
<p>不幸的是, 一部分线不通过圆布的内部. 原点(0,0)在布的正中央, 所有边上的点离原点距离为d. 每条线的公式满足至少a,b中的一个非零. 对于牛来说，刺绣作品中线的交点越多，便越有价值。帮助Bessie计算在圆中相交的线的对数，也就是说交点与原点的距离小于d。注意如果三条线在圆内同一点相交,这算3对线。4线共点-&gt;6对线.</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>* Line 1: Two space-separated integers: N and d</p>
<p>* Lines 2..N+1: Line i+1 describes thread i with three integers: a, b, and c</p>
<h4>输出格式</h4>
<p>* Line 1: One integer, on a line by itself, that is the count of pairs of threads that intersect.</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>2 1 
1 0 0 
0 1 0 </p>
<h4>输出样例 #1</h4>
<p>1 </p>
<h2>说明</h2>
<p>The two lines are x=0 and y=0. </p>
<p>The two lines intersect at (0,0), which is clearly with 1 of the origin. </p>