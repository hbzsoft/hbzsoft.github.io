<h1>Ancient Books 古书</h1>
<h2>题目背景</h2>
<p><strong>【不支持提交】</strong></p>
<p><code>plain
时间：2s
空间：1024MB</code></p>
<h2>题目描述</h2>
<p>德黑兰市是伊朗国家图书馆的所在地。这个图书馆的镇馆之宝位于一个长长的大厅内，大厅里有排成一行的 张桌子，从左到右依次编号为从$0$到$n-1$。每张桌子上都陈列着一本手写的古书。这些古书是根据其历史年份进行排序的，这使得访客们难以根据书名来查找它们。所以，图书馆主管决定按照书名的字母序来重新排列它们。</p>
<p>图书管理员Aryan要完成这项工作。他创建了一个长度为$n$的列表$p$，其中包括由$0$到$n-1$的不同整数。这个列表描述了按字母序来重排古书所要做的改变：对于$0 \leq i &lt; n$，目前在桌子$i$上的古书应该被移到桌子$p[i]$上。</p>
<p>Aryan从桌子$s$开始重排这些古书。他希望在做完重排工作之后再回到同一张桌子上。由于这些古书非常珍贵，在任何时间，他手持的古书都不能超过一本。在重排古书的过程中，Aryan将会做一系列的操作。每个操作只能是以下其中之一：</p>
<ul>
<li>
<p>如果他手上没有书，而他所在的桌子上恰好有一本书时，他可以拿起这本书。</p>
</li>
<li>
<p>如果他手上有一本书，而他所在的桌子上恰好有另一本书时，他可以把手上的书和桌子上的书进行交换。</p>
</li>
<li>
<p>如果他手上有一本书，而他所在的桌子上没有书时，他可以把手上的书放到这个桌子上。</p>
</li>
<li>
<p>他可以走到任何一张桌子前。当他进行这个操作时，他手上可以拿一本书。</p>
</li>
</ul>
<p>对于所有$0\leq i,j \leq n-1$，桌子$i$和桌子$j$之间的距离正好是$|j-i|$米。你的任务是，计算出Aryan重
排好所有古书所走过的总距离的最小值。</p>
<h2>实现细节</h2>
<p>你需要实现下面的函数：</p>
<p>(Java) <code>int64 minimum\_walk(int[] p, int s)</code></p>
<p>(C++) <code>long long minimun\_walk(std::vector&amp;lt;int&amp;gt; p, int s)</code></p>
<ul>
<li>
<p>$p$是一个长度为$n$的数组。初始阶段在桌子$i$上的古书需要被Aryan移到桌子$p[i]$上（对于所有$0 \leq i &lt; n$）。</p>
</li>
<li>
<p>$s$是初始阶段Aryan所在桌子的编号，同时也是重排好所有古书之后他应该在的位置。</p>
</li>
<li>
<p>该函数要返回Aryan重排好所有古书所需走过的总距离的最小值（以米为单位）。</p>
</li>
</ul>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>你需要实现上述函数</p>
<h4>输出格式</h4>
<p>你的函数需要返回一个合法的结果</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>p = [0, 2, 3, 1]
s = 0</p>
<h4>输出样例 #1</h4>
<p>minimum_walk = 6</p>
<h2>说明</h2>
<p>对于样例：</p>
<p><code>minimum\_walk([0, 2, 3, 1], 0)</code></p>
<p><img alt="" src="https://cdn.luogu.com.cn/upload/pic/6778.png" /> </p>
<p>在这个例子中，$n=4$，在初始阶段Aryan位于桌子$0$处。他按照如下步骤进行重排：</p>
<ul>
<li>
<p>走到桌子$1$处并且拿起桌上的书。这本书应该要被放到桌子$2$上。</p>
</li>
<li>
<p>然后，他走到桌子$2$处，并且把他手上的书和桌子上的书进行交换。现在他新拿到手上的书应该被放到桌子$3$上。</p>
</li>
<li>
<p>然后，他走到桌子$3$处，并且把他手上的书和桌子上的书进行交换。现在他新拿到手上的书应该被放到桌子$1$上。</p>
</li>
<li>
<p>然后，他走到桌子$1$处，并且把他手上的书放到桌子上。</p>
</li>
<li>
<p>最后，他回到桌子$0$处。</p>
</li>
</ul>
<p>注意，桌子$0$上的书已经在正确的位置，即桌子$0$上，因此Aryan不需要把它拿起来。在这个方案中，他的总行走距离是$6$米。这是一个最优解；因此，函数应该返回$6$。</p>
<h2>限制</h2>
<ul>
<li>
<p>$1 \leq n \leq 1000000$</p>
</li>
<li>
<p>$0 \leq s \leq n-1$</p>
</li>
<li>
<p>数组$p$包含$n$个从$0$到$n-1$（含）的不同整数。</p>
</li>
</ul>
<h2>子任务</h2>
<ol>
<li>
<p>（$12$分）$n \leq 4$且$s = 0$</p>
</li>
<li>
<p>（$10$分）$n \leq 1000$且$s = 0$</p>
</li>
<li>
<p>（$28$分）$s = 0$</p>
</li>
<li>
<p>（$20$分）$n &lt; 1000$</p>
</li>
<li>
<p>（$30$分）没有附加任何限制</p>
</li>
</ol>