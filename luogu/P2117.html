<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>小Z的矩阵</h1>
<h2>题目描述</h2>
<p>小 Z 最近迷上了矩阵，他定义了一个对于一种特殊矩阵的特征函数 $G$。对于 $N\times N$ 的矩阵 $A$，$A$ 的所有元素均为 $0$ 或 $1$，则 $\displaystyle G(A) = \left(\sum_{i = 1}^n\sum_{j = 1}^n A_{i, j}\cdot A_{j, i}\right) \bmod 2$。举一个例子：</p>
<p>$$
\begin{pmatrix}
1 &amp; 1 &amp; 1\
0 &amp; 1 &amp; 1\
1 &amp; 0 &amp; 0\
\end{pmatrix}
$$</p>
<p>对于上面这个 $3\times 3$ 矩阵 $A$，$G(A)=(1\times 1+1\times 0+1\times 1+0\times 1+1\times 1+1\times 0+1\times 1+ 0\times 1+0\times 0) \bmod 2 = 0$。</p>
<p>当然询问一个矩阵的 $G$ 值实在是太简单了。小Z在给出一个 $N\times N$ 矩阵的同时将给你 $Q$ 个操作，操作描述如下：</p>
<ul>
<li>操作 1：形如 <code>1 x</code>，表示将第 $x$ 行的元素全部“翻转”。</li>
<li>操作 2：形如 <code>2 x</code>，表示将第 $x$ 列的元素全部“翻转”。</li>
<li>操作 3：形如一个整数<code>3</code>，表示询问当前矩阵的特征值 $G$。</li>
</ul>
<p>“翻转”的定义为将 $1$ 变成 $0$，将 $0$ 变成 $1$。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行：两个正整数 $N,Q$。$N$ 表示矩阵的行数（列数），$Q$ 表示询问的次数。</p>
<p>接下来 $N$ 行：一个 $N\times N$ 的矩阵 $A$，$0\le A_{i, j}\le 1$。</p>
<p>接下来 $Q$ 行：$Q$ 个操作。</p>
<h4>输出格式</h4>
<p>一行若干个数，中间没有空格，分别表示每个操作的结果（操作 1 和操作 2 不需要输出）。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>3 12
1 1 1
0 1 1
1 0 0
3
2 3
3
2 2
2 2
1 3
3
3
1 2
2 1
1 1
3</p>
<h4>输出样例 #1</h4>
<p>01001</p>
<h2>说明</h2>
<p>【数据规模】</p>
<ul>
<li>
<p>对于 $30\%$ 的数据，$N\le 100$，$Q\le 10^5$。</p>
</li>
<li>
<p>对于 $100\%$ 的数据，$N\le 1,000$，$Q \le 5\times 10^5$。</p>
</li>
</ul>