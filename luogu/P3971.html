<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[TJOI2014] Alice and Bob</h1>
<h2>题目描述</h2>
<p>Alice和Bob发明了一个新的游戏。给定一个序列{x0,x1,…,xn-1}。Alice得到一个序列{a0,a1,…,an-1},其中a;表示以x;结尾的最长上升子序列的长度;Bob得到一个序列{b0,b1,…,bn-1},其中bi表示以xi开头的最长下降子序列的长度。 Alice的得分是序列{a0,a1,…,an-1}的和,Bob的得分是{b0,b1,…,bn-1}的和。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>输入的第一行是n,第二行是序列{a0,a1,……’,an-1}。数据保证序列a可以由至少一个1到n的排列得到</p>
<h4>输出格式</h4>
<p>输出包含一行,表示Bob能得到的最高分数</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>4
1 2 2 3</p>
<h4>输出样例 #1</h4>
<p>5</p>
<h4>输入样例 #2</h4>
<p>4
1 1 2 3</p>
<h4>输出样例 #2</h4>
<p>5</p>
<h2>说明</h2>
<h3>数据范围</h3>
<p>对于 30% 的数据，N ≤ 1000</p>
<p>对于 100% 的数据，N ≤ 10^5</p>