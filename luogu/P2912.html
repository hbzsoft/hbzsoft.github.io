<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[USACO08OCT] Pasture Walking G</h1>
<h2>题目描述</h2>
<p>The N cows (2 &lt;= N &lt;= 1,000) conveniently numbered 1..N are grazing among the N pastures also conveniently numbered 1..N. Most conveniently of all, cow i is grazing in pasture i.</p>
<p>Some pairs of pastures are connected by one of N-1 bidirectional walkways that the cows can traverse. Walkway i connects pastures A_i and B_i (1 &lt;= A_i &lt;= N; 1 &lt;= B_i &lt;= N) and has a length of L_i (1 &lt;= L_i &lt;= 10,000).</p>
<p>The walkways are set up in such a way that between any two distinct pastures, there is exactly one path of walkways that travels between them. Thus, the walkways form a tree.</p>
<p>The cows are very social and wish to visit each other often. Ever in a hurry, they want you to help them schedule their visits by computing the lengths of the paths between 1 &lt;= L_i &lt;= 10,000 pairs of pastures (each pair given as a query p1,p2 (1 &lt;= p1 &lt;= N; 1 &lt;= p2 &lt;= N).</p>
<p>POINTS: 200</p>
<p>有N(2&lt;=N&lt;=1000)头奶牛，编号为1到W，它们正在同样编号为1到N的牧场上行走.为了方 便，我们假设编号为i的牛恰好在第i号牧场上.</p>
<p>有一些牧场间每两个牧场用一条双向道路相连，道路总共有N - 1条，奶牛可以在这些道路 上行走.第i条道路把第Ai个牧场和第Bi个牧场连了起来(1 &lt;= A_i &lt;= N; 1 &lt;= B_i &lt;= N)，而它的长度 是 1 &lt;= L_i &lt;= 10,000.在任意两个牧场间，有且仅有一条由若干道路组成的路径相连.也就是说，所有的道路构成了一棵树.</p>
<p>奶牛们十分希望经常互相见面.它们十分着急，所以希望你帮助它们计划它们的行程，你只 需要计算出Q(1 &lt; Q &lt; 1000)对点之间的路径长度•每对点以一个询问p1,p2 (1 &lt;= p1 &lt;= N; 1 &lt;= p2 &lt;= N). 的形式给出.</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>* Line 1: Two space-separated integers: N and Q</p>
<p>* Lines 2..N: Line i+1 contains three space-separated integers: A_i, B_i, and L_i</p>
<p>* Lines N+1..N+Q: Each line contains two space-separated integers representing two distinct pastures between which the cows wish to travel: p1 and p2</p>
<h4>输出格式</h4>
<p>* Lines 1..Q: Line i contains the length of the path between the two pastures in query i.</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>4 2 
2 1 2 
4 3 2 
1 4 3 
1 2 
3 2 </p>
<h4>输出样例 #1</h4>
<p>2 
7 </p>
<h2>说明</h2>
<p>Query 1: The walkway between pastures 1 and 2 has length 2.</p>
<p>Query 2: Travel through the walkway between pastures 3 and 4, then the one between 4 and 1, and finally the one between 1 and 2, for a total length of 7.</p>