<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>家谱</h1>
<h2>题目背景</h2>
<p>现代的人对于本家族血统越来越感兴趣。</p>
<h2>题目描述</h2>
<p>给出充足的父子关系，请你编写程序找到某个人的最早的祖先。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>输入由多行组成，首先是一系列有关父子关系的描述，其中每一组父子关系中父亲只有一行，儿子可能有若干行，用 <code>#name</code> 的形式描写一组父子关系中的父亲的名字，用 <code>+name</code> 的形式描写一组父子关系中的儿子的名字；接下来用 <code>?name</code> 的形式表示要求该人的最早的祖先；最后用单独的一个 <code>$</code> 表示文件结束。</p>
<h4>输出格式</h4>
<p>按照输入文件的要求顺序，求出每一个要找祖先的人的祖先，格式为：本人的名字 $+$ 一个空格 $+$ 祖先的名字 $+$ 回车。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<h1>George</h1>
<p>+Rodney</p>
<h1>Arthur</h1>
<p>+Gareth
+Walter</p>
<h1>Gareth</h1>
<p>+Edward
?Edward
?Walter
?Rodney
?Arthur
$</p>
<h4>输出样例 #1</h4>
<p>Edward Arthur
Walter Arthur
Rodney George
Arthur Arthur</p>
<h2>说明</h2>
<p>规定每个人的名字都有且只有 $6$ 个字符，而且首字母大写，且没有任意两个人的名字相同。最多可能有 $10^3$ 组父子关系，总人数最多可能达到 $5 \times 10^4$ 人，家谱中的记载不超过 $30$ 代。</p>