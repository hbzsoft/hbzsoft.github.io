<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[POI2011] ROT-Tree Rotations</h1>
<h2>题目描述</h2>
<p>给定一颗有 $n$ 个<strong>叶节点</strong>的二叉树。每个叶节点都有一个权值 $p_i$（注意，根不是叶节点），所有叶节点的权值构成了一个 $1 \sim n$ 的排列。<br />
对于这棵二叉树的任何一个结点，保证其要么是叶节点，要么左右两个孩子都存在。<br />
现在你可以任选一些节点，交换这些节点的左右子树。<br />
在最终的树上，按照先序遍历遍历整棵树并依次写下遇到的叶结点的权值构成一个长度为 $n$ 的排列，你需要最小化这个排列的逆序对数。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行是一个整数 $n$，表示树的叶节点个数。<br />
接下来若干行，使用递归的形式来读入这棵树，读入任意一个子树的信息时，初始时读入其根节点。对于一个结点 $u$，首先有一行一个整数 $x$。
- 若 $x \neq 0$，则表示 $u$ 是一个叶节点，其权值为 $x$。
- 若 $x = 0$，则表示 $u$ 不是叶节点，则接下来若干行读入其左子树信息，左子树读入结束后接下来若干行读入其右子树信息。</p>
<h4>输出格式</h4>
<p>输出一行一个整数表示最小的逆序对数。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>3
0
0
3
1
2</p>
<h4>输出样例 #1</h4>
<p>1</p>
<h2>说明</h2>
<h3>样例 1 解释</h3>
<p>下图中，左图是初始读入的树，右图是操作后的树。</p>
<p><img alt="" src="https://cdn.luogu.com.cn/upload/image_hosting/r84e2l05.png" /></p>
<h3>数据规模与约定</h3>
<ul>
<li>对于 $30\%$ 的数据，保证 $n \leq 5 \times 10^3$。</li>
<li>对于 $100\%$ 的数据，保证 $2 \leq n \leq 2 \times 10^5$， $0 \leq x \leq n$，所有叶节点的权值是一个 $1 \sim n$ 的排列。</li>
</ul>
<h3>提示</h3>
<p>请注意，$n$ <strong>不是</strong>树的结点个数。</p>