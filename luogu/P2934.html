<h1>[USACO09JAN] Safe Travel G</h1>
<h2>题意翻译</h2>
<p><strong>【题目描述】</strong></p>
<p>给定一张有 $n$ 个节点，$m$ 条边的无向图，对于任意的 $i$（$2\le i\le n$），请求出在不经过原来 $1$ 节点到 $i$ 节点最短路上最后一条边的前提下，$1$ 节点到 $i$ 节点的最短路。</p>
<p>特别地，保证 $1$ 到任何一个点 $i$ 的最短路都是唯一的。</p>
<p><strong>【输入格式】</strong></p>
<p>第一行，两个整数 $n,m$。</p>
<p>之后 $m$ 行，每行三个整数 $a_i,b_i,t_i$ 表示有一条 $a_i$ 到 $b_i$，边权为 $t_i$ 的无向边。</p>
<p><strong>【输出格式】</strong></p>
<p>共 $n-1$ 行，第 $i$ 行表示 $1$ 到 $i+1$ 在不经过原来 $1$ 节点到 $i+1$ 节点最短路上最后一条边的前提下的最短路。</p>
<p>翻译贡献者：@<a href="/user/282751">cryozwq</a>。</p>
<h2>题目描述</h2>
<p>Gremlins have infested the farm. These nasty, ugly fairy-like</p>
<p>creatures thwart the cows as each one walks from the barn (conveniently located at pasture_1) to the other fields, with cow_i traveling to from pasture_1 to pasture_i. Each gremlin is personalized and knows the quickest path that cow_i normally takes to pasture_i. Gremlin_i waits for cow_i in the middle of the final cowpath of the quickest route to pasture_i, hoping to harass cow_i.</p>
<p>Each of the cows, of course, wishes not to be harassed and thus chooses an at least slightly  different route from pasture_1 (the barn) to pasture_i.</p>
<p>Compute the best time to traverse each of these new not-quite-quickest routes that enable each cow_i that avoid gremlin_i who is located on the final cowpath of the quickest route from pasture_1 to</p>
<p>pasture_i.</p>
<p>As usual, the M (2 &lt;= M &lt;= 200,000) cowpaths conveniently numbered 1..M are bidirectional and enable travel to all N (3 &lt;= N &lt;= 100,000) pastures conveniently numbered 1..N. Cowpath i connects pastures a_i (1 &lt;= a_i &lt;= N) and b_i (1 &lt;= b_i &lt;= N) and requires t_i (1 &lt;= t_i &lt;= 1,000) time to traverse. No two cowpaths connect the same two pastures, and no path connects a pasture to itself (a_i != b_i). Best of all, the shortest path regularly taken by cow_i from pasture_1 to pasture_i is unique in all the test data supplied to your program.</p>
<p>By way of example, consider these pastures, cowpaths, and [times]:</p>
<p><code>cpp
1--[2]--2-------+ 
|       |       | 
[2]     [1]     [3] 
|       |       | 
+-------3--[4]--4</code>
<code>TRAVEL     BEST ROUTE   BEST TIME   LAST PATH 
p_1 to p_2       1-&amp;gt;2          2         1-&amp;gt;2 
p_1 to p_3       1-&amp;gt;3          2         1-&amp;gt;3 
p_1 to p_4      1-&amp;gt;2-&amp;gt;4        5         2-&amp;gt;4</code>
When gremlins are present:</p>
<p><code>cpp
TRAVEL     BEST ROUTE   BEST TIME    AVOID 
p_1 to p_2     1-&amp;gt;3-&amp;gt;2         3         1-&amp;gt;2 
p_1 to p_3     1-&amp;gt;2-&amp;gt;3         3         1-&amp;gt;3 
p_1 to p_4     1-&amp;gt;3-&amp;gt;4         6         2-&amp;gt;4</code>
For 20% of the test data, N &lt;= 200. </p>
<p>For 50% of the test data, N &lt;= 3000. </p>
<p>TIME LIMIT: 3 Seconds</p>
<p>MEMORY LIMIT: 64 MB</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>* Line 1: Two space-separated integers: N and M</p>
<p>* Lines 2..M+1: Three space-separated integers: a_i, b_i, and t_i</p>
<h4>输出格式</h4>
<p>* Lines 1..N-1: Line i contains the smallest time required to travel from pasture_1 to pasture_i+1 while avoiding the final cowpath of the shortest path from pasture_1 to pasture_i+1. If no such path exists from pasture_1 to pasture_i+1, output -1 alone on the line.</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>4 5 
1 2 2 
1 3 2 
3 4 4 
3 2 1 
2 4 3 </p>
<h4>输出样例 #1</h4>
<p>3 
3 
6 </p>
<h2>说明</h2>
<p>感谢 karlven 提供翻译。</p>