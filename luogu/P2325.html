<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[SCOI2005] 王室联邦</h1>
<h2>题目描述</h2>
<p>“余”人国的国王想重新编制他的国家。他想把他的国家划分成若干个省，每个省都由他们王室联邦的一个成员来管理。</p>
<p>他的国家有 $N$ 个城市，编号为 $1\ldots N$。</p>
<p>一些城市之间有道路相连，任意两个不同的城市之间有且仅有一条直接或间接的道路。</p>
<p>为了防止管理太过分散，每个省至少要有 $B$ 个城市。</p>
<p>为了能有效的管理，每个省最多只有 $3\times B$ 个城市。</p>
<p>每个省必须有一个省会，这个省会可以位于省内，也可以在该省外。</p>
<p>但是该省的任意一个城市到达省会所经过的道路上的城市（除了最后一个城市，即该省省会）都必须属于该省。</p>
<p>一个城市可以作为多个省的省会。</p>
<p>聪明的你快帮帮这个国王吧！</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行包含两个数 $N,B$。</p>
<p>接下来 $N－1$ 行，每行描述一条边，包含两个数，即这条边连接的两个城市的编号。</p>
<h4>输出格式</h4>
<p>如果无法满足国王的要求，输出 $0$。</p>
<p>否则第一行输出数 $K$，表示你给出的划分方案中省的个数。</p>
<p>第二行输出 $N$ 个数，第 $I$ 个数表示编号为 $I$ 的城市属于的省的编号。要求城市编号在 $[1,K]$ 范围内。</p>
<p>第三行输出 $K$ 个数，表示这 $K$ 个省的省会的城市编号。</p>
<p>如果有多种方案，你可以输出任意一种。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>8 2 
1 2 
2 3 
1 8 
8 7 
8 6 
4 6 
6 5 </p>
<h4>输出样例 #1</h4>
<p>3 
2 1 1 3 3 3 3 2 
2 1 8 </p>
<h2>说明</h2>
<p>对于 $100\%$ 的数据，$1\le B\leq N\le 10^3$。</p>
<p>感谢 @<a href="/user/9433">FlierKing</a> 提供 spj。</p>