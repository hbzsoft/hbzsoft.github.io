<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>考验</h1>
<h2>题目描述</h2>
<p>大家知道，黄药师不仅武功高超，而且酷爱音乐和诗歌。看到桃花岛来了个新客人，而且不是靠真武功进来的，就准备为难为难你。</p>
<p>他写了一首N行诗句的诗歌，美中不足的是这些诗句并不押韵，黄药师非常想遵循古诗的押韵。诗歌被分为若干段，每段都是四行诗。每一句诗都有一个韵脚，假如A和B表示两种不同的韵脚，每段四行诗的韵脚只可能是 “AABB”, “ABAB”, “ABBA” 和“AAAA”中的一种。</p>
<p>黄药师将诗句的韵脚都编了号，具有相同编号的句子代表有相同的韵脚。现在，黄药师想删掉一些句子，使得剩下的都是遵循押韵规则的四行诗，而且不允许改变诗句的顺序。</p>
<p>现在就问你：如何找出满足条件最长的诗歌？</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第1行为一个整数N(1&lt;=N&lt;=4000)，代表黄药师写的诗歌的句子数。</p>
<p>第2行为N个整数，分别表示每一行诗的韵脚，这些数字都是不超过10^9的正数，每个数之间用1个空格隔开。</p>
<h4>输出格式</h4>
<p>一行一个整数k，为黄药师最多能够得到的四行诗个数。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>15</p>
<p>1 2 3 1 2 1 2 3 3 2 1 1 3 2 2</p>
<h4>输出样例 #1</h4>
<p>3</p>
<h2>说明</h2>
<p>提示：</p>
<p>删除第3、6、13句诗，就可以分成3个四行诗，分别为：</p>
<p>1 2 4 5</p>
<p>7 8 9 10</p>
<p>11 12 14 15</p>