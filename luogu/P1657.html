<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>选书</h1>
<h2>题目描述</h2>
<p>学校放寒假时，信息学奥赛辅导老师有1,2,3……x本书，要分给参加培训的x个人，每人只能选一本书，但是每人有两本喜欢的书。老师事先让每个人将自己喜欢的书填写在一张表上。然后根据他们填写的表来分配书本，希望设计一个程序帮助老师求出所有可能的分配方案，使每个学生都满意。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第1行：一个数x</p>
<p>第2行~第1+x行：每行两个数，表示ai喜欢的书的序号</p>
<h4>输出格式</h4>
<p>只有一个数：总方案数total。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>5
1 3
4 5
2 5
1 4
3 5</p>
<h4>输出样例 #1</h4>
<p>2</p>
<h2>说明</h2>
<p>所有数据：x&lt;=20</p>
<p>（世界上最难出数据的题目，没有之一……）</p>
<hr />
<p>update 2022/03/07，阮行止</p>
<p>本题原始数据中，最后一个数据点的 x 为 <code>0</code>，期望输出为 <code>0</code>。考虑到这个数据不合理，予以删去。现在提交这个题目不会遇到 x=0 的数据点。</p>