<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[POI2008] UCI-The Great Escape</h1>
<h2>题目描述</h2>
<p>Al Bytone, the infamous thief, plans a bank robbery.</p>
<p>He knows only too well that the moment he robs the bank a pursuit    will be commenced. Unfortunately, Al Bytone is a poor driver and turning    left causes him great trouble. This is why he tries to devise such an    escape route that at each intersection he would either ride straight    ahead or turn right. He is also aware that once he passes through any    intersection, the police will come and remain there, waiting for him.</p>
<p>Therefore he may pass through any intersection at most once.</p>
<p>Furthermore, the police are always present at certain intersections,    so Al Bytone will have to avoid these intersections as well    (there's no police at the intersections near the bank and near Al Bytone's    hideout.)    Al Bytone is planning his escape route. To your great (and rather    unpleasant) surprise, he paid you a visit and told to calculate the    number of different escape routes leading from the bank to his hideout    complying the aforementioned requirements. Needless to say, Al Bytone    does not take 'no' as an answer...</p>
<pre><code>The streets of Byteburg form a rectangular grid.
</code></pre>
<p>Every street runs either in the North-South or East-West direction,    and every two non-parallel streets intersect.</p>
<p>The bank is situated to the south of the south-western-most intersection.</p>
<p>Al Bytone will start his great escape driving north.</p>
<p>Task      Write a programme that:</p>
<p>reads from the standard input the location of hideout,          descriptions of intersections with police and a positive          integer <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.1.png" />,                      calculates the number of different escape routes leading from the bank to the hideout          complying the aforementioned requirements,                      writes out to the standard output this number's residue modulo <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.2.png" />.</p>
<p>给一个n*m  的地图，计算从(n,1)  到第 x 列的第y  行的路径条数 mod k ，走过的点不能再走，转弯只能向右转。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>There are three integers in the first line of the standard input,      <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.3.png" />, <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.4.png" /> and <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.5.png" /> (<img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.6.png" />, <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.7.png" />).</p>
<p>The numbers <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.8.png" /> and <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.9.png" /> denote the number of streets leading in      East-West and North-South direction, respectively.</p>
<p>The second line contains two integers <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.10.png" /> and <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.11.png" /> (<img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.12.png" />,      <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.13.png" />).</p>
<p>These represent the hideout's location - at the intersection      of <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.14.png" /> street leading in Nort…</p>
<h4>输出格式</h4>
<p>Your programme should write out the residue of the number of escape      routes modulo <img alt="" src="http://main.edu.pl/images/OI15/uci-en-tex.26.png" /> in the first and only line of the standard output.</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>3 5 10
4 2
+++++
++<em>++
++++</em></p>
<h4>输出样例 #1</h4>
<p>2</p>