<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>语文1（chin1）- 理理思维</h1>
<h2>题目背景</h2>
<p>蒟蒻 HansBug 在语文考场上，挠了无数次的头，可脑子里还是一片空白。</p>
<h2>题目描述</h2>
<p>考试开始了，可是蒟蒻 HansBug 脑中还是一片空白。哦不！准确的说是乱七八糟的。现在首要任务就是帮蒟蒻 HansBug 理理思维。假设 HansBug 的思维是一长串字符串（字符串中包含且仅包含 $26$ 个字母），现在的你，有一张神奇的药方，上面依次包含了三种操作：</p>
<p>1、 获取第 $x$ 到第 $y$ 个字符中字母 $k$ 出现了多少次</p>
<p>2、将第 $x$ 到第 $y$ 个字符全部赋值为字母 $k$</p>
<p>3、将第 $x$ 到第 $y$ 个字符按照 $\text{a} \sim \text{z}$ 的顺序排序</p>
<p>你欣喜若狂之时，可是他脑细胞和 RP 已经因为之前过度紧张消耗殆尽，眼看试卷最后还有一篇八百字的作文呢，所以这个关键的任务就交给你啦！</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行包含两个整数 $n,m$，分别表示 HansBug 的思维所包含的字母个数和药方上操作个数。
第二行包含一个长度为 $n$ 的字符串，表示 HansBug 的思维。</p>
<p>接下来 $m$ 行，每行表示一个操作，格式如下：</p>
<ul>
<li>
<p><code>1 x y k</code> 表示将第 $x$ 到第 $y$ 个字符中 $k$ 出现的次数输出</p>
</li>
<li>
<p><code>2 x y k</code> 表示将第 $x$ 到第 $y$ 个字符全部替换为 $k$</p>
</li>
<li>
<p><code>3 x y</code> 表示将第 $x$ 到第 $y$ 个字符按照 $\text{a} \sim \text{z}$ 的顺序排序</p>
</li>
</ul>
<h4>输出格式</h4>
<p>输出为若干行，每行包含一个整数，依次为所有操作 $1$ 所得的结果。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>10 5
ABCDABCDCD
1 1 3 A
3 1 5
1 1 3 A
2 1 2 B
1 2 3 B</p>
<h4>输出样例 #1</h4>
<p>1
2
2</p>
<h2>说明</h2>
<p>样例说明：</p>
<p><img alt="" src="https://cdn.luogu.com.cn/upload/pic/2231.png" /> </p>
<p>数据规模：</p>
<p><img alt="" src="https://cdn.luogu.com.cn/upload/pic/2232.png" /> </p>
<h3>此题目中大小写不敏感。</h3>
<h3>新加了三组 hack 数据，不在上面的表格中，但保证 $1\le n,m \le 50000$。</h3>