<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[USACO15DEC] Switching on the Lights S</h1>
<h2>题目背景</h2>
<p>来源：usaco-2015-dec</p>
<p>Farm John 最近新建了一批巨大的牛棚。这些牛棚构成了一个N*N的矩形网络。（1&lt;n&lt;100)</p>
<p>然而bessie十分怕黑，他想计算可以把多少个牛棚的灯打开。</p>
<h2>题目描述</h2>
<p>有N*N个房间，组成了一张N*N的网格图，Bessie一开始位于左上角(1,1)，并且只能上下左右行走。</p>
<p>一开始，只有(1,1)这个房间的灯是亮着的，Bessie只能在亮着灯的房间里活动。</p>
<p>有另外M条信息，每条信息包含四个数a,b,c,d，表示房间(a,b)里有房间(c,d)的灯的开关。</p>
<p>请计算出最多有多少个房间的灯可以被打开</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行，两个数：N，M（1&lt;m&lt;200000);</p>
<p>第2-m+1行：坐标（x1，y1），（x2，y2）代表房间的坐标（x1，y1）及可以点亮的·房间的坐标(x2,y2);</p>
<h4>输出格式</h4>
<p>一个数，最多可以点亮的房间数</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>3 6
1 1 1 2
2 1 2 2
1 1 1 3
2 3 3 1
1 3 1 2
1 3 2 1</p>
<h4>输出样例 #1</h4>
<p>5</p>
<h2>说明</h2>
<p>这里，如果你看得懂英文的话，这里有样例的说明。</p>
<p>Here, Bessie can use the switch in (1,1)to turn on lights in (1,2)and (1,3). She can then walk to (1,3)and turn on the lights in (2,1)，from which she can turn on the lights in (2,2). The switch in (2,3)is inaccessible to her, being in an unlit room. She can therefore illuminate at most 5 rooms.</p>