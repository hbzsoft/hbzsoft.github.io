<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[USACO09OCT] The Leisurely Stroll G</h1>
<h2>题目描述</h2>
<p>Bessie looks out the barn door at the beautiful spring day and thinks to herself, 'I'd really like to enjoy my walk out to the pastures for the tender spring grass.' She knows that once she leaves the barn, she will traverse a path for a while, take one of two choices that lead to other paths, follow one of them, take one of two other choices, and continue on until the path leads to a verdant pasture.</p>
<p>She decides to make the set of path choices that enables her to walk over the greatest number of cow paths on her way to breakfast. Given the description of these paths, determine how many cow paths she traverses, presuming that she commences choosing various paths as soon as she leaves the barn.</p>
<p>The farm has P (1 &lt;= P &lt;= 1,000) pastures that are lead to by P-1 choice-nodes (range 1..P-1) connected by paths. From the barn (which is node 1), only one set of path traversals exists to reach any choice-node or pasture.</p>
<p>Consider this set of paths (lines), pastures ('%'), and the highlighted ('#') route to a pasture on the right:</p>
<p>```cpp</p>
<pre><code>             %                             %
            /                             /
  2----%   7----8----%          2----%   7####8----%
 / \      /      \             # #      #      #
1   5----6        9----%      1   5####6        9----%
 \   \    \        \           \   \    \        #
  \   %    %        %           \   %    %        %
   \                             \
    3-----%                       3-----%
     \                             \
      4----%                        4----%
       \                             \
        %                             %
</code></pre>
<p>```
The pasture reached from choice-node 9 is one of two that enable Bessie to traverse seven different cowpaths on the way to breakfast. These are the 'furthest' pastures from node 1, the barn.</p>
<p>Three integers describe each node: Cn, D1, and D2. Cn is the</p>
<p>nodenumber (1 &lt;= Cn &lt;= P-1); D1 and D2 are the destinations from that node (0 &lt;= D1 &lt;= P-1; 0 &lt;= D2 &lt;= P-1). If D1 is 0, the node leads to a pasture in that direction; D2 has the same property.</p>
<p>POINTS: 100</p>
<p>Bessie透过牛棚的大门向外望去。发现今天是一个美丽的春季早晨。她想，“我真的好想好想沐浴着春风，走在草地之中，感受嫩草温柔地抚摸四蹄地的感觉。”她知道一旦她离开了牛棚，她将沿着一条小径走一段路，然后就会出现一个三岔路口，她必须在两条小径中选择一条继续走下去。然后她又会遇到更多的三岔路口，进行更多的选择，知道她到达一个青翠的牧场为止。</p>
<p>她决定作一个选择使得她在去吃早草的路途中可以走过最多的小径。给你这些小径的描述，求出Bessie最多可以走过多少条小径。假定Bessie一出牛棚就有2条路径，Bessie需要从中选择一条。</p>
<p>农场中有P-1 (1 &lt;= P &lt;= 1,000) 个分岔节点（范围是1..P），引向P片草地，它们之间由小径连接。对任意一个节点来说，只有一条从牛棚（被标记为节点1）开始的路径可以到达。</p>
<p>考虑下面的图。线段表示小径，"%"表示草地。右边的图中的"#"表示一条到达草地的高亮的路径。</p>
<p>从分岔节点9到达的草地是两个可以让Bessie走过最多小径的草地之一。在去吃早草的路上Bessie将走过7条不同的小径。这些草地是离牛棚也就是节点1最“远”的。</p>
<p>由3个整数来表示每一个节点：Cn, D1和D2，Cn是节点的编号(1 &lt;= Cn &lt;= P-1); D1和D2是由该节点引出的两条小径的终点(0 &lt;= D1 &lt;= P-1; 0 &lt;= D2 &lt;= P-1)。如果D1为0，表示这条小径引向的是一片牧草地；D2也一样。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>* Line 1: A single integer: P</p>
<p>* Lines 2..P: Line i+1 contains three space-separated integeres that describe a choice-node: Cn, D1, and D2</p>
<h4>输出格式</h4>
<p>* Line 1: A single integer that is the largest number of paths Bessie can traverse on the way to the furthest pasture.</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>10 
7 8 0 
5 0 6 
9 0 0 
6 0 7 
3 4 0 
2 5 0 
8 0 9 
4 0 0 
1 2 3 </p>
<h4>输出样例 #1</h4>
<p>7 </p>
<h2>说明</h2>
<p>This input describes the example farm layout in the task description.</p>
<p>1-2-5-6-7-8-9-P is one of the longest routes.</p>