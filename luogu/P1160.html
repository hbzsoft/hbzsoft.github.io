<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>队列安排</h1>
<h2>题目描述</h2>
<p>一个学校里老师要将班上 $N$ 个同学排成一列，同学被编号为 $1\sim N$，他采取如下的方法：</p>
<ol>
<li>
<p>先将 $1$ 号同学安排进队列，这时队列中只有他一个人；</p>
</li>
<li>
<p>$2\sim N$ 号同学依次入列，编号为 $i$ 的同学入列方式为：老师指定编号为 $i$ 的同学站在编号为 $1\sim(i-1)$ 中某位同学（即之前已经入列的同学）的左边或右边；</p>
</li>
<li>
<p>从队列中去掉 $M$ 个同学，其他同学位置顺序不变。</p>
</li>
</ol>
<p>在所有同学按照上述方法队列排列完毕后，老师想知道从左到右所有同学的编号。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行一个整数 $N$，表示了有 $N$ 个同学。</p>
<p>第 $2\sim N$ 行，第 $i$ 行包含两个整数 $k,p$，其中 $k$ 为小于 $i$ 的正整数，$p$ 为 $0$ 或者 $1$。若 $p$ 为 $0$，则表示将 $i$ 号同学插入到 $k$ 号同学的左边，$p$ 为 $1$ 则表示插入到右边。</p>
<p>第 $N+1$ 行为一个整数 $M$，表示去掉的同学数目。</p>
<p>接下来 $M$ 行，每行一个正整数 $x$，表示将 $x$ 号同学从队列中移去，如果 $x$ 号同学已经不在队列中则忽略这一条指令。</p>
<h4>输出格式</h4>
<p>一行，包含最多 $N$ 个空格隔开的整数，表示了队列从左到右所有同学的编号。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>4
1 0
2 1
1 0
2
3
3</p>
<h4>输出样例 #1</h4>
<p>2 4 1</p>
<h2>说明</h2>
<p><strong>【样例解释】</strong></p>
<p>将同学 $2$ 插入至同学 $1$ 左边，此时队列为：</p>
<p><code>2 1</code></p>
<p>将同学 $3$ 插入至同学 $2$ 右边，此时队列为：</p>
<p><code>2 3 1</code>  </p>
<p>将同学 $4$ 插入至同学 $1$ 左边，此时队列为：</p>
<p><code>2 3 4 1</code>  </p>
<p>将同学 $3$ 从队列中移出，此时队列为：</p>
<p><code>2 4 1</code>  </p>
<p>同学 $3$ 已经不在队列中，忽略最后一条指令</p>
<p>最终队列：</p>
<p><code>2 4 1</code>  </p>
<p><strong>【数据范围】</strong></p>
<p>对于 $20\%$ 的数据，$1\leq N\leq 10$。</p>
<p>对于 $40\%$ 的数据，$1\leq N\leq 1000$。</p>
<p>对于 $100\%$ 的数据，$1&lt;M\leq N\leq 10^5$。</p>