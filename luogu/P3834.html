<h1>【模板】可持久化线段树 2</h1>
<h2>题目背景</h2>
<p>这是个非常经典的可持久化权值线段树入门题——静态区间第 $k$ 小。</p>
<p><strong>数据已经过加强，请使用可持久化权值线段树。同时请注意常数优化</strong>。</p>
<h2>题目描述</h2>
<p>如题，给定 $n$ 个整数构成的序列 $a$，将对于指定的闭区间 $[l, r]$ 查询其区间内的第 $k$ 小值。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行包含两个整数，分别表示序列的长度 $n$ 和查询的个数 $m$。<br />
第二行包含 $n$ 个整数，第 $i$ 个整数表示序列的第 $i$ 个元素 $a_i$。 <br />
接下来 $m$ 行每行包含三个整数 $ l, r, k$ , 表示查询区间 $[l, r]$ 内的第 $k$ 小值。</p>
<h4>输出格式</h4>
<p>对于每次询问，输出一行一个整数表示答案。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>5 5
25957 6405 15770 26287 26465 
2 2 1
3 4 1
4 5 1
1 2 2
4 4 1</p>
<h4>输出样例 #1</h4>
<p>6405
15770
26287
25957
26287</p>
<h2>说明</h2>
<h3>样例 1 解释</h3>
<p>$n=5$，数列长度为 $5$，数列从第一项开始依次为${25957, 6405, 15770, 26287, 26465}$。</p>
<ul>
<li>第一次查询为 $[2, 2]$ 区间内的第一小值，即为 $6405$。</li>
<li>第二次查询为 $[3, 4]$ 区间内的第一小值，即为 $15770$。</li>
<li>第三次查询为 $[4, 5]$ 区间内的第一小值，即为 $26287$。</li>
<li>第四次查询为 $[1, 2]$ 区间内的第二小值，即为 $25957$。</li>
<li>第五次查询为 $[4, 4]$ 区间内的第一小值，即为 $26287$。</li>
</ul>
<h3>数据规模与约定</h3>
<ul>
<li>对于 $20\%$ 的数据，满足 $1 \leq n,m \leq 10$。</li>
<li>对于 $50\%$ 的数据，满足 $1 \leq n,m \leq 10^3$。</li>
<li>对于 $80\%$ 的数据，满足 $1 \leq n,m \leq 10^5$。</li>
<li>对于 $100\%$ 的数据，满足 $1 \leq n,m \leq 2\times 10^5$，$|a_i| \leq 10^9$，$1 \leq l \leq r \leq n$，$1 \leq k \leq r - l + 1$。</li>
</ul>