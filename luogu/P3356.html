<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>火星探险问题</h1>
<h2>题目描述</h2>
<p>火星探险队的登陆舱将在火星表面着陆，登陆舱内有多部障碍物探测车。登陆舱着陆后，探测车将离开登陆舱向先期到达的传送器方向移动。  </p>
<p>探测车在移动中还必须采集岩石标本。每一块岩石标本由最先遇到它的探测车完成采集。每块岩石标本只能被采集一次。岩石标本被采集后，其他探测车可以从原来岩石标本所在处通过。探测车不能通过有障碍的地面。  </p>
<p>本题限定探测车只能从登陆处沿着向南或向东的方向朝传送器移动，而且多个探测车可以在同一时间占据同一位置。如果某个探测车在到达传送器以前不能继续前进，则该车所采集的岩石标本将全部损失。</p>
<p>用一个 $p \times q$ 网格表示登陆舱与传送器之间的位置。登陆舱的位置在 
$(x_1,y_1)$ 处，传送器的位置在 $(x_py_q)$ 处。</p>
<p>$$\begin{bmatrix} (x_1,y_1) &amp; (x_2,y_1) &amp; \dots &amp; (x_{p-1},y_1) &amp; (x_p,y_1) \ (x_1,y_2) &amp; (x_2,y_2) &amp; \dots &amp; (x_{p-1},y_2) &amp; (x_p,y_2) \ \dots &amp; \dots &amp; \dots &amp; \dots &amp; \dots \ (x_1,y_{q-1}) &amp; (x_2,y_{q-1}) &amp; \dots &amp; (x_{p-1},y_{q-1}) &amp; (x_p,y_{q-1}) \ (x_1,y_q) &amp; (x_2,y_q) &amp; \dots &amp; (x_{p-1},y_q) &amp; (x_p,y_q) \end{bmatrix}$$</p>
<p>给定每个位置的状态，计算探测车的最优移动方案，使到达传送器的探测车的数量最多，而且探测车采集到的岩石标本的数量最多。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行为探测车数 $n$，接下来两行分别为 $p,q$。  </p>
<p>接下来的 $q$ 行是表示登陆舱与传送器之间的位置状态的 $p \times q$ 网格。<br />
用三种数表示火星表面位置的状态：$0$ 表示平坦无障碍，$1$ 表示障碍，$2$ 表示石块。</p>
<h4>输出格式</h4>
<p>每行包含探测车号和一个移动方向，$0$ 表示向南移动，$1$ 表示向东移动。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>2
10
8
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 1 1 0 0 0
0 0 0 1 0 2 0 0 0 0
1 1 0 1 2 0 0 0 0 1
0 1 0 0 2 0 1 1 0 0
0 1 0 1 0 0 1 1 0 0
0 1 2 0 0 0 0 1 0 0
0 0 0 0 0 0 0 0 0 0</p>
<h4>输出样例 #1</h4>
<p>1 1
1 1
1 1
1 1
1 0
1 0
1 1
1 1
1 1
1 1
1 0
1 0
1 1
1 0
1 0
1 0
2 1
2 1
2 1
2 1
2 0
2 0
2 0
2 0
2 1
2 0
2 0
2 1
2 0
2 1
2 1
2 1</p>
<h2>说明</h2>
<p>【数据范围】
对于 $100\%$ 的数据，$1 \le n,p,q \le 35$。</p>