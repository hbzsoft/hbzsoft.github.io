<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>妖梦斩木棒</h1>
<h2>题目背景</h2>
<p><img alt="" src="https://cdn.luogu.com.cn/upload/pic/5848.png" /> </p>
<p>妖梦是住在白玉楼的半人半灵，拥有使用剑术程度的能力。</p>
<h2>题目描述</h2>
<p>有一天，妖梦正在练习剑术。地面上摆放了一支非常长的木棒，妖梦把它们切成了等长的n段。现在这个木棒可以看做由三种小段构成，中间的n-2段都是左右都被切断的断头，我们记做’X’，最左边的一段和最右边的一段各有一个圆头，记做’（‘和’）’。幽幽子吃饱后闲来无事，决定戏弄一下妖梦。她拿来了许多这样的三种小段木棒，来替换掉妖梦切下来的n段中的一部分，然后问妖梦一些问题。这些操作可以这样描述:</p>
<p>1 x C 将第x个小段的木棒替换成C型，C只会是’X’,’(‘,’)’中的一种</p>
<p>2 l r 询问妖梦从第l段到第r段之间(含l,r)，有多少个完整的木棒</p>
<p>完整的木棒左右两端必须分别为’(‘和’)’，并且中间要么什么都没有，要么只能有’X’。</p>
<p>虽然妖梦能够数清楚这些问题，但幽幽子觉得她回答得太慢了，你能教给妖梦一个更快的办法吗？</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>第一行两个整数n，m，n表示共有n段木棒，m表示有m次操作。</p>
<p>木棒的初始形状为(XXXXXX......XXXXXX)。</p>
<p>接下来m行，每行三个整数/字符，用空格隔开。第一个整数为1或2，表示操作的类型，若类型为1，则接下来一个整数x，一个字符C。若类型为2，接下来两个整数l,r。含义见题目描述。</p>
<h4>输出格式</h4>
<p>对于每一个操作2，输出一行一个整数，表示对应询问的答案。</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>4 4
2 1 4
2 2 4
1 2 (
2 2 4</p>
<h4>输出样例 #1</h4>
<p>1
0
1</p>
<h2>说明</h2>
<p>对于30%的数据，1&lt;=n,m&lt;=1000</p>
<p>对于100%的数据，1&lt;=n,m&lt;=200000</p>
<p>by-orangebird</p>