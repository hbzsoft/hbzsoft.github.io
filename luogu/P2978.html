<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
	    tex2jax: {
	        inlineMath: [['$','$'], ['\(','\)']],
	        processEscapes: true
	    }
	});
    </script>
</head><h1>[USACO10JAN] Tea Time S</h1>
<h2>题目描述</h2>
<p>N (1 &lt;= N &lt;= 1000) cows, conveniently numbered 1..N all attend a tea time every day. M (1 &lt;= M &lt;= 2,000) unique pairs of those cows have already met before the first tea time. Pair i of these cows who have met is specified by two differing integers A_i and B_i (1 &lt;= A_i &lt;= N; 1 &lt;= B_i &lt;= N). The input never indicates that cows have met each other more than once.</p>
<p>At tea time, any cow i and cow j who have met a mutual friend cow k will meet sometime during that tea time and thus expand their circle of known cows.</p>
<p>Determine whether Q (1 &lt;= Q &lt;= 100) pairs of cows have met after tea times are held for long enough that no new cow meetings are occurring. Query j consists of a pair of different cows X_j and Y_j (1 &lt;= X_j &lt;= N; 1 &lt;= Y_j &lt;= N).</p>
<p>For example, suppose that out of cows 1 through 5, we know that 2 has met 5, 2 has met 3, and 4 has met 5; see (a) below.</p>
<p><code>cpp
   2---3           2---3            2---3
    \              |\  |            |\ /|
1    \     --&amp;gt;  1  | \ |    --&amp;gt;  1  | X |
      \            |  \|            |/ \|
   4---5           4---5            4---5
    (a)             (b)              (c)</code>
In the first tea time, cow 2 meets cow 4, and cow 3 meets cow 5; see (b) above. In the second tea time, cow 3 meets cow 4; see (c) above.</p>
<p>N(1 &lt;= N &lt;= 1000)头奶牛，编号为1..N，在参加一个喝茶时间活动。在喝茶时间活动开始之前，已经有M(1 &lt;= M &lt;= 2,000)对奶牛彼此认识（是朋友）。第i对彼此认识的奶牛通过两个不相同的整数Ai和Bi给定(1&lt;= Ai &lt;= N; 1 &lt;= Bi &lt;= N)。输入数据保证一对奶牛不会出现多次。 在喝茶时间活动中，如果奶牛i和奶牛j有一个相同的朋友奶牛k，那么他们会在某次的喝茶活动中去认识对方（成为朋友），从而扩大他们的社交圈。 请判断，在喝茶活动举办很久以后（直到没有新的奶牛彼此认识），Q(1 &lt;= Q &lt;= 100)对奶牛是否已经彼此认识。询问j包含一对不同的奶牛编号Xj和Yj(1 &lt;= Xj &lt;= N; 1 &lt;= Yj &lt;= N)。 例如，假设共有1..5头奶牛，我们知道2号认识5号，2号认识3号，而且4号认识5号；如下图(a)。</p>
<p><code>cpp
   2---3           2---3            2---3
    \              |\  |            |\ /|
1    \     --&amp;gt;  1  | \ |    --&amp;gt;  1  | X |
      \            |  \|            |/ \|
   4---5           4---5            4---5
    (a)             (b)              (c)</code>
在某次的喝茶活动中，2号认识4号，3号认识5号；如上图(b)所示。接下来的喝茶活动中，3号认识4号，如上图(c)所示。</p>
<h2>输入输出格式</h2>
<h4>输入格式</h4>
<p>* Line 1: Three space-separated integers: N, M, and Q</p>
<p>* Lines 2..M+1: Line i+1 contains two space-separated integers: A_i and B_i</p>
<p>* Lines M+2..M+Q+1: Line j+M+1 contains query j as two space-separated integers: X_j and Y_j</p>
<p>行1：三个空格隔开的整数：N，M，和Q</p>
<p>行2..M+1：第i+1行包含两个空格隔开的整数Ai和Bi</p>
<p>行M+2..M+Q+1：第j+M+1行包含两个空格隔开的整数Xj和Yj，表示询问j</p>
<h4>输出格式</h4>
<p>* Lines 1..Q: Line j should be 'Y' if the cows in the jth query have met and 'N' if they have not met.</p>
<p>行1..Q：如果第j个询问的两头奶牛认识， 第j行输出“Y”。如果不认识，第j行输出“N”</p>
<h2>输入输出样例</h2>
<h4>输入样例 #1</h4>
<p>5 3 3 
2 5 
2 3 
4 5 
2 3 
3 5 
1 5 </p>
<h4>输出样例 #1</h4>
<p>Y 
Y 
N </p>
<h2>说明</h2>
<p>感谢@蒟蒻orz神犇 提供翻译。</p>